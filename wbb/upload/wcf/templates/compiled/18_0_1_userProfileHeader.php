<?php
/**
* WoltLab Community Framework
* Template: userProfileHeader
* Compiled at: Mon, 09 Jun 2014 00:36:14 +0000
* 
* DO NOT EDIT THIS FILE
*/
$this->v['tpl']['template'] = 'userProfileHeader';
?>
<ul class="breadCrumbs">
	<li><a href="index.php?page=Index<?php echo SID_ARG_2ND; ?>"><img src="<?php echo StyleManager::getStyle()->getIconPath('indexS.png'); ?>" alt="" /> <span><?php $this->tagStack[] = array('lang', array()); ob_start(); ?><?php echo StringUtil::encodeHTML(PAGE_TITLE); ?><?php $_lang4216ebf15497796dfc2740e4deb649af7af828d4 = ob_get_contents(); ob_end_clean(); echo WCF::getLanguage()->getDynamicVariable($_lang4216ebf15497796dfc2740e4deb649af7af828d4, $this->tagStack[count($this->tagStack) - 1][1]); array_pop($this->tagStack); ?></span></a> &raquo;</li>
	<li><?php if (MODULE_MEMBERS_LIST) { ?><a href="index.php?page=MembersList<?php echo SID_ARG_2ND; ?>"><img src="<?php echo StyleManager::getStyle()->getIconPath('membersS.png'); ?>" alt="" /> <span>Mitglieder</span></a><?php } else { ?><img src="<?php echo StyleManager::getStyle()->getIconPath('membersS.png'); ?>" alt="" /> <span>Mitglieder</span><?php } ?> &raquo;</li>
</ul>

<?php $this->assign('adminOptions', ''); ?>
<?php if ($this->v['this']->user->getPermission('admin.user.canEditUser')) { ?>
	<?php ob_start(); ?><li><a href="acp/index.php?form=Login&amp;url=index.php%3Fform=UserEdit%26userID%3D<?php echo $this->v['user']->userID; ?>%26packageID%3D<?php echo PACKAGE_ID; ?>">Benutzer bearbeiten</a></li><?php
$this->v['tpl']['capture']['default'] = ob_get_contents();
ob_end_clean();
$this->append('adminOptions', $this->v['tpl']['capture']['default']);
?>
	<?php if (MODULE_AVATAR == 1) { ?>
		<?php if ($this->v['user']->disableAvatar == 1) { ?>
			<?php ob_start(); ?><li><a href="index.php?action=UserAvatarEnable&amp;userID=<?php echo $this->v['userID']; ?>&amp;t=<?php echo SECURITY_TOKEN; ?><?php echo SID_ARG_2ND; ?>">Avatar freigeben</a></li><?php
$this->v['tpl']['capture']['default'] = ob_get_contents();
ob_end_clean();
$this->append('adminOptions', $this->v['tpl']['capture']['default']);
?>
		<?php } else { ?>
			<?php ob_start(); ?><li><a href="index.php?action=UserAvatarDisable&amp;userID=<?php echo $this->v['userID']; ?>&amp;t=<?php echo SECURITY_TOKEN; ?><?php echo SID_ARG_2ND; ?>">Avatar sperren</a></li><?php
$this->v['tpl']['capture']['default'] = ob_get_contents();
ob_end_clean();
$this->append('adminOptions', $this->v['tpl']['capture']['default']);
?>
		<?php } ?>
	<?php } ?>
<?php } ?>

<?php if (isset($this->v['additionalAdminOptions'])) { ?><?php $this->append('adminOptions', $this->v['additionalAdminOptions']); ?><?php } ?>

<div class="mainHeadline">
	<?php if ($this->v['adminOptions'] != '') { ?>
		<img src="<?php echo StyleManager::getStyle()->getIconPath('profileOptionsL.png'); ?>" alt="" id="adminOptions" class="pointer" />
	<?php } else { ?>
		<img id="userEdit<?php echo $this->v['userID']; ?>" src="<?php echo StyleManager::getStyle()->getIconPath('profileL.png'); ?>" alt="" />
	<?php } ?>
	<div class="headlineContainer">
		<h2><a href="index.php?page=User&amp;userID=<?php echo $this->v['userID']; ?><?php echo SID_ARG_2ND; ?>">Profil von &raquo;<?php echo StringUtil::encodeHTML($this->v['user']->username); ?>&laquo;</a></h2>
		<?php if ($this->v['user']->getOldUsername()) { ?>
			<p>(ehemals &raquo;<?php echo StringUtil::encodeHTML($this->v['user']->getOldUsername()); ?>&laquo;)</p>
		<?php } ?>
	</div>
	<?php if ($this->v['adminOptions'] != '') { ?>
		<div class="hidden" id="adminOptionsMenu">
			<div class="pageMenu">
				<ul>
					<?php echo $this->v['adminOptions']; ?>
				</ul>
			</div>
		</div>
		<script type="text/javascript">
			//<![CDATA[
			popupMenuList.register("adminOptions");
			//]]>
		</script>
	<?php } ?>
</div>

<?php if (isset($this->v['userMessages'])) { ?><?php echo $this->v['userMessages']; ?><?php } ?>

<div id="userCard" class="border">
	<div class="userCardInner container-1">
		<ul class="userCardList">
			<li id="userCardAvatar" style="width: <?php if ($this->v['user']->getAvatar() && ($this->v['user']->userID == $this->v['this']->user->userID || $this->v['this']->user->getPermission('user.profile.avatar.canViewAvatar'))) { ?><?php echo $this->v['user']->getAvatar()->getWidth()+49; ?><?php } else { ?>149<?php } ?>px">
				<div class="userAvatar">
					<a href="index.php?page=User&amp;userID=<?php echo $this->v['userID']; ?><?php echo SID_ARG_2ND; ?>">
					<?php if ($this->v['user']->getAvatar() && ($this->v['user']->userID == $this->v['this']->user->userID || $this->v['this']->user->getPermission('user.profile.avatar.canViewAvatar'))) { ?>
						<?php echo $this->v['user']->getAvatar(); ?>
					<?php } else { ?>
						<img src="<?php echo RELATIVE_WCF_DIR; ?>images/avatars/avatar-default.png" alt="" />
					<?php } ?>
					</a>
				</div>
			</li>
			
			<li id="userCardCredits" style="margin-left: <?php if ($this->v['user']->getAvatar() && ($this->v['user']->userID == $this->v['this']->user->userID || $this->v['this']->user->getPermission('user.profile.avatar.canViewAvatar'))) { ?><?php echo $this->v['user']->getAvatar()->getWidth()+50; ?><?php } else { ?>150<?php } ?>px">
				<div class="userCardCreditsInner">
					<div class="userPersonals">
						<p class="userName">
							<?php if ($this->v['user']->isOnline()) { ?>
								<img src="<?php echo StyleManager::getStyle()->getIconPath('onlineS.png'); ?>" alt="" title="<?php $this->tagStack[] = array('lang', array('username' => StringUtil::encodeHTML($this->v['user']->username))); ob_start(); ?>wcf.user.online<?php $_langba5d7a56fa8cbb696e22ffe8929f11964c83625f = ob_get_contents(); ob_end_clean(); echo WCF::getLanguage()->getDynamicVariable($_langba5d7a56fa8cbb696e22ffe8929f11964c83625f, $this->tagStack[count($this->tagStack) - 1][1]); array_pop($this->tagStack); ?>" />
							<?php } else { ?>
								<img src="<?php echo StyleManager::getStyle()->getIconPath('offlineS.png'); ?>" alt="" title="<?php $this->tagStack[] = array('lang', array('username' => StringUtil::encodeHTML($this->v['user']->username))); ob_start(); ?>wcf.user.offline<?php $_lang02d811a7034c042f2dc0aeffc84d9772d6a02f8d = ob_get_contents(); ob_end_clean(); echo WCF::getLanguage()->getDynamicVariable($_lang02d811a7034c042f2dc0aeffc84d9772d6a02f8d, $this->tagStack[count($this->tagStack) - 1][1]); array_pop($this->tagStack); ?>" />		
							<?php } ?>
							<span><?php echo StringUtil::encodeHTML($this->v['user']->username); ?></span>
						</p>
						
						<?php if (MODULE_USER_RANK) { ?>
							<?php if ($this->v['user']->getUserTitle()) { ?>
								<p class="userTitle smallFont"><?php echo $this->v['user']->getUserTitle(); ?></p>
							<?php } ?>
							
							<?php if ($this->v['user']->getRank() && $this->v['user']->getRank()->rankImage) { ?>
								<p class="userRank"><?php echo $this->v['user']->getRank()->getImage(); ?></p>
							<?php } ?>
						<?php } ?>
						
						<?php if (count($this->v['userSymbols']) > 0) { ?>
							<ul class="userStatus">
								<?php
if (count($this->v['userSymbols']) > 0) {
foreach ($this->v['userSymbols'] as $this->v['userSymbol']) {
?>
									<li><?php echo $this->v['userSymbol']; ?></li>
								<?php } } ?>
							</ul>
						<?php } ?>
					</div>
					
					<div class="smallButtons userCardOptions">
						<ul>
							<?php if ($this->v['this']->user->userID) { ?>
								<?php if ($this->v['user']->userID != $this->v['this']->user->userID) { ?>
									<?php if ($this->v['user']->blackUserID) { ?>
										<li><a href="index.php?form=BlackListEdit&amp;remove=<?php echo $this->v['user']->userID; ?>&amp;t=<?php echo SECURITY_TOKEN; ?><?php echo SID_ARG_2ND; ?>" title="Ignorierung aufheben"><img src="<?php echo StyleManager::getStyle()->getIconPath('removeM.png'); ?>" alt="" /> <span>Ignorierung aufheben</span></a></li>
									<?php } ?>
									
									<?php if ($this->v['user']->whiteUserID || $this->v['user']->invitedUserID) { ?>
										<li><a href="index.php?form=WhiteListEdit&amp;remove=<?php echo $this->v['user']->userID; ?>&amp;t=<?php echo SECURITY_TOKEN; ?><?php echo SID_ARG_2ND; ?>" title="Freund entfernen"><img src="<?php echo StyleManager::getStyle()->getIconPath('deleteM.png'); ?>" alt="" /> <span>Freund entfernen</span></a></li>
									<?php } else { ?>	
										<?php if ( ! $this->v['user']->blackUserID) { ?>
											<li><a href="index.php?form=BlackListEdit&amp;add=<?php echo $this->v['user']->userID; ?>&amp;t=<?php echo SECURITY_TOKEN; ?><?php echo SID_ARG_2ND; ?>" title="Benutzer ignorieren"><img src="<?php echo StyleManager::getStyle()->getIconPath('removeM.png'); ?>" alt="" /> <span>Benutzer ignorieren</span></a></li>
										<?php } ?>
										<li><a href="index.php?form=WhiteListEdit&amp;add=<?php echo $this->v['user']->userID; ?>&amp;t=<?php echo SECURITY_TOKEN; ?><?php echo SID_ARG_2ND; ?>" title="Als Freund hinzufügen"><img src="<?php echo StyleManager::getStyle()->getIconPath('addM.png'); ?>" alt="" /> <span>Als Freund hinzufügen</span></a></li>
									<?php } ?>
								<?php } else { ?>
									<li><a href="index.php?form=UserProfileEdit<?php echo SID_ARG_2ND; ?>" title="Mein Profil bearbeiten"><img src="<?php echo StyleManager::getStyle()->getIconPath('editM.png'); ?>" alt="" /> <span>Profil bearbeiten</span></a></li>
								<?php } ?>
							<?php } elseif ( ! REGISTER_DISABLED) { ?>
								<li><a href="index.php?page=Register<?php echo SID_ARG_2ND; ?>" title="Registrieren Sie sich jetzt!"><img src="<?php echo StyleManager::getStyle()->getIconPath('registerM.png'); ?>" alt="" /> <span>Registrieren Sie sich jetzt!</span></a></li>
							<?php } ?>
							
							<?php if (isset($this->v['additionalUserCardOptions'])) { ?><?php echo $this->v['additionalUserCardOptions']; ?><?php } ?>
						</ul>
					</div>
				</div>
				
				<?php if (count($this->v['connection']) > 0) { ?>
					<div class="friendsConnection">
						<h3 class="light">Ihre Verbindung zu &raquo;<?php echo StringUtil::encodeHTML($this->v['user']->username); ?>&laquo;</h3>
						<ul class="dynContainer dynItems<?php echo count($this->v['connection']); ?>">
						
							<?php
$this->v['tpl']['foreach']['connection']['total'] = count($this->v['connection']);
$this->v['tpl']['foreach']['connection']['show'] = ($this->v['tpl']['foreach']['connection']['total'] > 0 ? true : false);
$this->v['tpl']['foreach']['connection']['iteration'] = 0;
if (count($this->v['connection']) > 0) {
foreach ($this->v['connection'] as $this->v['friend']) {
$this->v['tpl']['foreach']['connection']['first'] = ($this->v['tpl']['foreach']['connection']['iteration'] == 0 ? true : false);
$this->v['tpl']['foreach']['connection']['last'] = (($this->v['tpl']['foreach']['connection']['iteration'] == $this->v['tpl']['foreach']['connection']['total'] - 1) ? true : false);
$this->v['tpl']['foreach']['connection']['iteration']++;
?> 
								<li class="dynItem<?php if ($this->v['tpl']['foreach']['connection']['first']) { ?> first<?php } elseif ($this->v['tpl']['foreach']['connection']['last']) { ?> last<?php } ?>">
									<div class="dynBox">
										<div class="dynBoxInner">
											<a href="index.php?page=User&amp;userID=<?php echo $this->v['friend']->userID; ?><?php echo SID_ARG_2ND; ?>" title="<?php $this->tagStack[] = array('lang', array('username' => StringUtil::encodeHTML($this->v['friend']->username))); ob_start(); ?>wcf.user.viewProfile<?php $_lang1c49ab5cddb7d225a43a99abe6ef1610c235d043 = ob_get_contents(); ob_end_clean(); echo WCF::getLanguage()->getDynamicVariable($_lang1c49ab5cddb7d225a43a99abe6ef1610c235d043, $this->tagStack[count($this->tagStack) - 1][1]); array_pop($this->tagStack); ?>">
												<?php if ($this->v['friend']->getAvatar()) { ?>
													<?php $this->assign('x', $this->v['friend']->getAvatar()->setMaxSize(48,48)); ?>
													<span class="avatarFrame" style="width: <?php echo $this->v['friend']->getAvatar()->getWidth(); ?>px;"><?php echo $this->v['friend']->getAvatar(); ?></span>
												<?php } else { ?>
													<span class="avatarFrame" style="width: 48px;"><img src="<?php echo RELATIVE_WCF_DIR; ?>images/avatars/avatar-default.png" alt="" style="width: 48px; height: 48px" /></span>
												<?php } ?>
												<span class="avatarCaption smallFont"><?php echo StringUtil::encodeHTML($this->v['friend']->username); ?></span>
											</a>
										</div>
									</div>
								</li>
							<?php } } ?>
						</ul>
					</div>
				<?php } elseif (count($this->v['network']) > 0) { ?>
					<div class="friendsNetwork">
						<h3 class="light">Ihr Netzwerk</h3>
						<ul class="dynContainer dynItems3">
						
							<?php if ($this->v['network']['friends']) { ?>
								<li class="dynItem first">
									<div class="dynBox network1">
										<div class="dynBoxInner">
											<span class="digitDisplay light"><?php echo StringUtil::formatNumeric($this->v['network']['friends']); ?></span>
											<span class="digitCaption">Direkte Freunde</span>
										</div>
									</div>
								</li>
							<?php } ?>
							
							<?php if ($this->v['network']['friendsOfFriends']) { ?>
								<li class="dynItem">
									<div class="dynBox network2">
										<div class="dynBoxInner">
											<span class="digitDisplay light"><?php echo StringUtil::formatNumeric($this->v['network']['friendsOfFriends']); ?></span>
											<span class="digitCaption">Freunde der Freunde</span>
										</div>
									</div>
								</li>
							<?php } ?>
							
							<?php if ($this->v['network']['friends3rdGrade']) { ?>
								<li class="dynItem">
									<div class="dynBox network3">
										<div class="dynBoxInner">
											<span class="digitDisplay light"><?php echo StringUtil::formatNumeric($this->v['network']['friends3rdGrade']); ?></span>
											<span class="digitCaption">Freunde dritten Grades</span>
										</div>
									</div>
								</li>
							<?php } ?>
						</ul>
					</div>
				<?php } else { ?>
					<div class="friendsNone">
						<h3 class="light"><?php if ($this->v['this']->user->userID == $this->v['user']->userID) { ?>Erweitern Sie Ihr Netzwerk! Fügen Sie andere Benutzer als Freunde hinzu!<?php } elseif ($this->v['this']->user->userID != 0) { ?>Sie haben keine Verbindung zu diesem Benutzer.<?php } else { ?>Sie müssen sich registrieren, um eine Verbindung mit diesem Benutzer herzustellen.<?php } ?></h3>
					</div>
				<?php } ?>
				<!--[if IE]>
					<hr class="hidden" style="display: block; clear: both;" />
				<![endif]-->
			</li>
		</ul>
	</div>
</div>

<?php if (isset($this->v['additionalMessages'])) { ?><?php echo $this->v['additionalMessages']; ?><?php } ?>

<?php if ( ! isset($this->v['showUserProfileMenu'])) { ?><?php $this->assign('showUserProfileMenu', true); ?><?php } ?>
<?php if ($this->v['showUserProfileMenu'] && count($this->v['this']->getUserProfileMenu()->getMenuItems('')) > 1) { ?>
	<div id="profileContent" class="tabMenu">
		<ul>
			<?php
if (count($this->v['this']->getUserProfileMenu()->getMenuItems('')) > 0) {
foreach ($this->v['this']->getUserProfileMenu()->getMenuItems('') as $this->v['item']) {
?>
				<li<?php if (in_array($this->v['item']['menuItem'],$this->v['this']->getUserProfileMenu()->getActiveMenuItems())) { ?> class="activeTabMenu"<?php } ?>><a href="<?php echo StringUtil::encodeHTML($this->v['item']['menuItemLink']); ?>"><?php if ($this->v['item']['menuItemIcon']) { ?><img src="<?php echo StringUtil::encodeHTML($this->v['item']['menuItemIcon']); ?>" alt="" /> <?php } ?><span><?php $this->tagStack[] = array('lang', array()); ob_start(); ?><?php echo $this->v['item']['menuItem']; ?><?php $_langdb340ce6cedebc265068296cb8afc1409d46a6d5 = ob_get_contents(); ob_end_clean(); echo WCF::getLanguage()->getDynamicVariable($_langdb340ce6cedebc265068296cb8afc1409d46a6d5, $this->tagStack[count($this->tagStack) - 1][1]); array_pop($this->tagStack); ?></span></a></li>
			<?php } } ?>
		</ul>
	</div>
	
	<div class="subTabMenu">
		<div class="containerHead">
			<?php $this->assign('activeMenuItem', $this->v['this']->getUserProfileMenu()->getActiveMenuItem()); ?>
			<?php if ($this->v['activeMenuItem'] && count($this->v['this']->getUserProfileMenu()->getMenuItems($this->v['activeMenuItem']))) { ?>
				<ul>
					<?php
if (count($this->v['this']->getUserProfileMenu()->getMenuItems($this->v['activeMenuItem'])) > 0) {
foreach ($this->v['this']->getUserProfileMenu()->getMenuItems($this->v['activeMenuItem']) as $this->v['item']) {
?>
						<li<?php if (in_array($this->v['item']['menuItem'],$this->v['this']->getUserProfileMenu()->getActiveMenuItems())) { ?> class="activeSubTabMenu"<?php } ?>><a href="<?php echo StringUtil::encodeHTML($this->v['item']['menuItemLink']); ?>"><?php if ($this->v['item']['menuItemIcon']) { ?><img src="<?php echo StringUtil::encodeHTML($this->v['item']['menuItemIcon']); ?>" alt="" /> <?php } ?><span><?php $this->tagStack[] = array('lang', array()); ob_start(); ?><?php echo $this->v['item']['menuItem']; ?><?php $_lang91b6512b41ecbf93a8d215fc212564aa74547bfe = ob_get_contents(); ob_end_clean(); echo WCF::getLanguage()->getDynamicVariable($_lang91b6512b41ecbf93a8d215fc212564aa74547bfe, $this->tagStack[count($this->tagStack) - 1][1]); array_pop($this->tagStack); ?></span></a></li>
					<?php } } ?>
				</ul>
			<?php } else { ?>
				<div> </div>
			<?php } ?>
		</div>
	</div>
<?php } ?>